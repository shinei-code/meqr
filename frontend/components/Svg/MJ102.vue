<template>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    width="2480"
    height="3507"
    viewBox="0 0 2480 3507"
  >
    <defs>
      <clipPath id="clip-MJ_102">
        <rect width="2480" height="3507" />
      </clipPath>
    </defs>
    <g id="MJ_102" class="cls-1">
      <rect class="cls-12" width="2480" height="3507" />
      <g
        id="長方形_1"
        data-name="長方形 1"
        class="cls-2"
        transform="translate(1204 609)"
      >
        <rect class="cls-10" width="960" height="156" />
        <rect class="cls-11" x="2" y="2" width="956" height="152" />
      </g>
      <text
        id="_市町村名"
        data-name="※市町村名"
        class="cls-3"
        transform="translate(1224 668)"
      >
        <tspan x="0" y="0">※市町村名</tspan>
      </text>
      <text
        id="_受理年月日"
        data-name="※受理年月日"
        class="cls-3"
        transform="translate(1224 743)"
      >
        <tspan x="0" y="0">※受理年月日</tspan>
      </text>
      <text
        id="xx市"
        data-name="xx市"
        class="cls-3"
        transform="translate(1724 668)"
      >
        <tspan x="0" y="0">xx市</tspan>
      </text>
      <text
        id="年月日"
        data-name="年月日"
        class="cls-3"
        transform="translate(1780 743)"
      >
        <tspan x="0" y="0">年　　月　　日</tspan>
      </text>
      <text
        id="_市町村記入"
        data-name="※市町村記入"
        class="cls-3"
        transform="translate(1195 818)"
      >
        <tspan x="0" y="0">※市町村記入</tspan>
      </text>
      <line
        id="線_1"
        data-name="線 1"
        class="cls-4"
        x2="960"
        transform="translate(1204.5 687.5)"
      />
      <text
        id="自立支援医療受給者証_精神通院_再交付申請書"
        data-name="自立支援医療受給者証(精神通院)　再交付申請書"
        class="cls-5"
        transform="translate(618 1009)"
      >
        <tspan x="0" y="0">自立支援医療受給者証(精神通院)　再交付申請書</tspan>
      </text>
      <text
        id="_uketuke_dt_"
        data-name="$uketuke_dt      "
        class="cls-3"
        transform="translate(1650 1194)"
      >
        <tspan x="0" y="0" xml:space="preserve">令和　　年　　月　　日</tspan>
      </text>
      <text
        id="xx県知事_殿"
        data-name="xx県知事　殿"
        class="cls-3"
        transform="translate(298 1351)"
      >
        <tspan x="0" y="0">xx県知事　殿</tspan>
      </text>
      <text id="申請者" class="cls-3" transform="translate(1111 1484)">
        <tspan x="0" y="0">申請者</tspan>
      </text>
      <text id="受診者氏名" class="cls-3" transform="translate(1126 1593)">
        <tspan x="0" y="0">受診者氏名</tspan>
      </text>
      <text id="保護者氏名" class="cls-3" transform="translate(1126 1671)">
        <tspan x="0" y="0">保護者氏名</tspan>
      </text>
      <text
        id="住_所"
        data-name="住　　所"
        class="cls-3"
        transform="translate(1126 1822)"
      >
        <tspan x="0" y="0">住　　所</tspan>
      </text>
      <text id="生年月日" class="cls-3" transform="translate(1126 1962)">
        <tspan x="0" y="0">生年月日</tspan>
      </text>
      <text id="受給者番号" class="cls-3" transform="translate(1126 2032)">
        <tspan x="0" y="0">受給者番号</tspan>
      </text>
      <text
        id="_保護者氏名は18歳未満のみ記入_"
        data-name="(保護者氏名は18歳未満のみ記入)"
        class="cls-6"
        transform="translate(1136 1737)"
      >
        <tspan x="0" y="0">(保護者氏名は18歳未満のみ記入)</tspan>
      </text>
      <text
        id="_私は_自立支援医療受給者証_精神通院_を紛失しましたので_再交付を申請しま_す_なお_紛失した受給者証を発見した場合には_速やかに返還します_"
        data-name="　私は、自立支援医療受給者証（精神通院）を紛失しましたので、再交付を申請しま
  す。
  　なお、紛失した受給者証を発見した場合には、速やかに返還します。"
        class="cls-3"
        transform="translate(298 2244)"
      >
        <tspan x="0" y="0">
          　私は、自立支援医療受給者証（精神通院）を紛失しましたので、再交付を申請しま
        </tspan>
        <tspan x="0" y="60">す。</tspan>
        <tspan x="0" y="120">
          　なお、紛失した受給者証を発見した場合には、速やかに返還します。
        </tspan>
      </text>
      <!-- <text id="印" class="cls-6" transform="translate(2104 1589)">
        <tspan x="0" y="0">印</tspan>
      </text> -->
      <text
        id="_document_id"
        data-name="$document_id"
        class="cls-7"
        transform="translate(2074 3440)"
      >
        <tspan x="0" y="0">MJ_102</tspan>
      </text>
      <text
        id="_uketuke_dt_2"
        data-name="$uketuke_dt           "
        class="cls-3"
        transform="translate(1559 743)"
      >
        <tspan x="0" y="0" xml:space="preserve"></tspan>
      </text>
      <text
        id="_name_"
        data-name="$name                    "
        class="cls-3"
        transform="translate(1462 1593)"
      >
        <tspan x="0" y="0" xml:space="preserve">
        </tspan>
      </text>
      <text
        id="_hg_name_"
        data-name="$hg_name                 "
        class="cls-3"
        transform="translate(1462 1671)"
      >
        <tspan x="0" y="0" xml:space="preserve">
          {{ $getHgName() }}
        </tspan>
      </text>
      <text
        id="_address_"
        data-name="$address                              "
        class="cls-3"
        transform="translate(1462 1822)"
      >
        <tspan x="0" y="0" xml:space="preserve">{{ this.patient.ptAddr}}</tspan>
      </text>
      <text
        id="_birthday_"
        data-name="$birthday                "
        class="cls-3"
        transform="translate(1462 1962)"
      >
        <tspan x="0" y="0" xml:space="preserve">
          {{ $getPtBday(false) }}
        </tspan>
      </text>
      <text
        id="_d_jyukyusha_no_"
        data-name="$d_jyukyusha_no                "
        class="cls-3"
        transform="translate(1462 2032)"
      >
        <tspan x="0" y="0" xml:space="preserve">
          {{ this.patient.jyukyusyaNo }}
        </tspan>
      </text>
      <text
        id="_address_building_"
        data-name="$address_building                     "
        class="cls-3"
        transform="translate(1462 1892)"
      >
        <tspan x="0" y="0" xml:space="preserve">
          {{ this.patient.ptAddrBldg }}
        </tspan>
      </text>
      <g
        id="長方形_2"
        data-name="長方形 2"
        class="cls-8"
        transform="translate(1984 208)"
      >
        
      </g>
      <text id="QR" class="cls-9" transform="translate(2049 388)">
        <tspan x="0" y="0"></tspan>
      </text>
      <g transform="translate(1900 150)" v-html="qrcode"></g>
    </g>
  </svg>
</template>

<script>
export default {
  data() {
    return {
      qrcode: null,
      patient: {},
      mj102: {},
    }
  },
  mounted() {
    // 帳票に埋め込むstore情報を取得
    this.mj102 = this.$store.getters.getMj102;
    this.patient = this.$store.getters.getPatient;

    // QRコード生成
    this.qrcode = this.$svgQRCode([
      4,
      45,
      5,
      1,
      this.$getQrSofusaki(this.mj102, 'kbn'),
      this.$getQrSofusaki(this.mj102, 'sofusaki'),
      this.$getQrVisitor('visitor'),
    ], 400);
  }
}
</script>

<style scoped>
  .cls-1 {
    clip-path: url(#clip-MJ_102);
  }

  .cls-12,
  .cls-2 {
    fill: #fff;
  }

  .cls-2,
  .cls-3,
  .cls-4,
  .cls-5,
  .cls-6,
  .cls-7,
  .cls-8 {
    stroke: #000;
  }

  .cls-2,
  .cls-4 {
    stroke-width: 4px;
  }

  .cls-3,
  .cls-5 {
    font-size: 50px;
  }

  /* .cls-3,
  .cls-5,
  .cls-6,
  .cls-7 {
    font-family: MS-Mincho, MS Mincho;
  } */

  .cls-11,
  .cls-4,
  .cls-8 {
    fill: none;
  }

  .cls-5 {
    letter-spacing: 0.14em;
  }

  .cls-6 {
    font-size: 40px;
    letter-spacing: 0.05em;
  }

  .cls-7 {
    font-size: 35px;
  }

  .cls-9 {
    font-size: 97px;
    /* font-family: Meiryo; */
    letter-spacing: 0.3em;
  }

  .cls-10 {
    stroke: none;
  }
</style>